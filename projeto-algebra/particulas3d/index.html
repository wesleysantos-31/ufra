<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partículas 3D & Controle Gestual</title>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- MediaPipe Hands & Camera Utils -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">

</head>
<body>

    <div id="loader">Inicializando IA & Partículas...<br><span style="font-size:0.8rem; opacity:0.7">Por favor, permita o acesso à câmera</span></div>

    <div id="canvas-container"></div>

    <div id="ui-container">
        <h2>Controle Neural</h2>

        <div class="control-group">
            <label>Zoom Base</label>
            <input type="range" id="zoomSlider" min="1" max="50" value="20">
        </div>

        <div class="control-group">
            <label>Cor das Partículas</label>
            <input type="color" id="colorPicker" value="#00f2ff">
        </div>

        <div class="control-group">
            <label>Formas</label>
            <div class="shape-grid">
                <button onclick="setShape('sphere')" class="active" id="btn-sphere">Esfera</button>
                <button onclick="setShape('cube')" id="btn-cube">Cubo Caos</button>
                <button onclick="setShape('heart')" id="btn-heart">Coração</button>
                <button onclick="setShape('saturn')" id="btn-saturn">Saturno</button>
                <button onclick="setShape('flower')" id="btn-flower">Flor</button>
                <button onclick="setShape('buddha')" id="btn-buddha">Zen (Buda)</button>
                <button onclick="setTextShape()" class="highlight-btn" id="btn-text">Álgebra Linear</button>
            </div>
        </div>

        <button class="toggle-debug" onclick="toggleDebug()">Mostrar/Ocultar Câmera (Debug)</button>
        
        <div style="margin-top: 15px; font-size: 0.75rem; opacity: 0.6; line-height: 1.4;">
            <strong>Controles:</strong><br>
            ✋ Aberta: Explosão<br>
            ✊ Fechada: Unir & Girar<br>
            ↕ Mover: Rotação (Inércia)<br>
            ↔ Zoom: Aproxime/Afaste
        </div>
    </div>

    <div id="debug-panel">
        <video id="debug-video" playsinline></video>
        <canvas id="debug-canvas"></canvas>
    </div>

    <script src="script.js"></script>
</body>
</html>